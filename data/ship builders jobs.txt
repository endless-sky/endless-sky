# Copyright (c) 2019 by Peter van der Meer
#
# Endless Sky is free software: you can redistribute it and/or modify it under the
# terms of the GNU General Public License as published by the Free Software
# Foundation, either version 3 of the License, or (at your option) any later version.
#
# Endless Sky is distributed in the hope that it will be useful, but WITHOUT ANY
# WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
# PARTICULAR PURPOSE.  See the GNU General Public License for more details.

mission "Hauler VI cargo prototype 1"
	name "Escort Hauler prototype to formal dinner"
	description "Escort the Hauler prototype to <destination> to deliver sushi to a formal dinner."
	source
		neighbor planet "Skymoot"
		not planet "Skymoot"
	destination "Skymoot"
	npc accompany
		government "Merchant"
		ship "Hauler III" "SB-Labs Testament"
	on offer
		conversation
			`An elegant-looking lady approaches you.`
			`	"Captain <last>, Captain <last>! It is such an honor to meet you!"`
			choice
				`	"Wow, that's quite a greeting. Why is it an honor to meet me?"`
				`	"Hello, nice to meet you too."`
					goto "hello too"
				`	"Sorry, I don't have time to talk. I'm really busy."`
					defer
			`	She smiles and says, "Well, I actually don't know you, but I just read your name on one of the cargo manifests. And my experience is that this greeting works best if you need something from a spaceship captain."`
			label "hello too"
			`She says, "My name is Vanessa Oxygenpocket and I am part of a team that is designing a highly cost-effective transport ship series here at Southbound Shipyards."`
			choice
				`	"'Oxygenpocket' is an uncommon name."`
				`	"What is the name of the series?"`
					goto "series name"
				`	"How is it cost effective?"`
					goto "cost effective"
				`	"And what help do you need from me?"`
					goto "help request"
			`	Vanessa briefly looks surprised and then responds, "Well, it might sound uncommon to people from a planet with a breathable atmosphere, but it is actually similar to Vanderberg, which means 'from the mountain', or Langley, which means 'woodland'.`
			`	"My grand-grand-grand parents lived on a planet with no atmosphere and oxygenpockets were as much a feature there as mountains and woodlands are on more habitable planets."`
			label "series name"
			`	She continues to talk about the ship, "The new series will be called Hauler VI and it will look like two Hauler III series side-by-side, but the cockpit and engine construction will obviously be a lot more complex."`
			label "cost effective"
			`	"The Hauler VI will have twice the cargo capacity of a III series." She thinks for a moment, "In it's current design the VI would however require more than twice the crew and we obviously needs to fix that before we can put it into the market."`
			choice
				`	"Ok, and how will it perform in combat?"`
					goto "combat effective"
				`	"Ok, and what help do you need from me?"`
					goto "help request"
			label "combat effective"
			`	"The VI will have twice the hull of a III-series, but it is also 25% slower and we are still working to get the shields up to the same level as the III-series."`
			label "help request"
			`	Vanessa pauses for a moment and then continues, "We're testing the VI's cargo systems using a Hauler III. Normally our own department would escort such prototypes, but there is a mole in our organization and we have very strong competition from Syndicated Shipyards. I need you to help us travel to <destination> to deliver sushi for a formal dinner. You will be paid for your expenses. Will you help us?"`
			choice
				`	"Isn't it dangerous to transport food in an untested prototype?`
					goto "risky transport"
				`	"Sure, I'll help you."`
					accept
				`	"Sorry, I don't have time to help you."`
					decline
			label "risky transport"
			`	"No it's actually more of a formality. Those systems have gone through a lot of simulation cycles already."`
			choice
				`	"I'll help you."`
					accept
				`	"Sorry, I don't have time to help you."`
					decline
	on complete
		dialog
			`You are waiting for the Hauler prototype to land, but it appears to stay in orbit.`
			`There is no response to your hails by radio. It looks like you need to take off and investigate.`

mission "Hauler VI cargo prototype 2"
	name "Escort Hauler prototype to student party"
	description "Escort the Hauler prototype to <destination> to deliver cooked fish dishes to an archeology students party."
	source "Skymoot"
	destination "Zug"
	landing
	to offer
		has "Hauler VI cargo prototype 1: done"	
	npc accompany
		government "Merchant"
		ship "Hauler III" "SB-Labs Testament"
	on enter
		dialog
			`As soon as you take off you receive an angry voice message over a short-range inter-ship communications channel, "Why were you trying to contact me over radio! Does everyone need to know that we are flying around here?"`
			`She adds, "Let's go to <destination>." You wonder why the destination changed.`
	on complete
		dialog
			`This time the Hauler prototype appears to be landing right behind you, but the ship flies away at full thrust just before touching the landing pad.`
			`You receive a short text-message over the short-range inter-ship communiation channel, "The colleagues at the shipyard cannot see us like this!"`

mission "Hauler VI cargo prototype 3"
	name "Escort Hauler prototype to factory"
	description "Escort the Hauler prototype to <destination> to deliver overcooked fish to a floating catfood factory."
	source "Zug"
	destination "Mere"
	landing
	to offer
		has "Hauler VI cargo prototype 2: done"
	npc accompany
		government "Merchant"
		ship "Hauler III" "SB-Labs Testament"
	on complete
		dialog
			`The Hauler VI prototype enters the planets atmosphere at high speed and lands way ahead of you near a catfood factory on one of the artifical islands.`
			`Your infrared sensors show that the ship is emitting a lot of heat, but it's not comming from the heavily used thrusters, rather from the cargo-hold.`
			`Vanessa steps out of the ship and says, "This is no good for living creatures, we go to <destination>."`
			`She boards the Hauler prototype and takes off before you have time to respond. Apparently there is something seriously wrong with the cargo that you once thought was sushi.`

mission "Hauler VI cargo prototype 4"
	name "Escort Hauler prototype to waste plant"
	description "Escort the Hauler prototype to <destination> to deliver charred fish waste product to a waste-processing plant."
	destination "Longjump"
	landing
	on offer
	to offer
		has "Hauler VI cargo prototype 3: done"
	on complete
		payment 200000
		dialog
			`The Hauler prototype lands somewhat uncontrolled near a waste processing plant. The cargo hold is glowing red hot and some areas in the cargo hold appear to be on fire.`
			`Vanessa disembarks, walks over to you, and apologizes for the difficult trip. She explains that the cooling systems failed, causing the sushi to get cooked, get overcooked and finally burning the sushi.`
			`You are paid <payment> and she asks you not to talk about this escort job to anybody. You leave the docks quickly in order to escape the horrible smell of overheated fish that is comming from Vanessa and her ship.`
	npc accompany
		government "Merchant"
		ship "Hauler III" "SB-Labs Testament"
