# Copyright (c) 2021 by Zitchas
#
# Endless Sky is free software: you can redistribute it and/or modify it under the
# terms of the GNU General Public License as published by the Free Software
# Foundation, either version 3 of the License, or (at your option) any later version.
#
# Endless Sky is distributed in the hope that it will be useful, but WITHOUT ANY
# WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
# PARTICULAR PURPOSE. See the GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License along with
# this program. If not, see <https://www.gnu.org/licenses/>.

event "ember waste label"
	galaxy "label waste"
		sprite label/waste



event "remnant: change hail"
	government "Remnant"
		"friendly hail" "remnant friendly"
		"hostile hail" "remnant hostile"
	government "Remnant (Research)"
		"friendly hail" "remnant friendly"
		"hostile hail" "remnant hostile"



event "remnant: lost in ember waste"



event "remnant: defense timer"
	clear "remnant: defense delay"



event "remnant: surveillance begin"
	system "Parca"
		remove fleet "Korath Ember Waste Raid"



event "remnant: surveillance end"
	system "Parca"
		add fleet "Korath Ember Waste Raid" 10000



event "remnant: nenia empty"
	system "Nenia"
		remove fleet "Void Sprites"



event "remnant: nenia restored"
	system "Nenia"
		add fleet "Void Sprites" 500



event "remnant: puffin"
	planet "Viminal"
		add shipyard "Remnant Puffin"



event "remnant: void sprite research"



event "remnant: sign studies complete"



event "remnant: return the samples timer"



event "remnant: wait for plume"



event "remnant salvage available"
	planet "Aventine"
		outfitter "Remnant Salvage"
	planet "Caelian"
		outfitter "Remnant Salvage"
	planet "Viminal"
		outfitter "Remnant Salvage"



event "remnant: scanning tolerance"
	government "Remnant"
		"penalty for"
			scan 0
		remove "provoked on scan"
		"friendly hail" "remnant trusting"
	government "Remnant (Research)"
		"friendly hail" "remnant trusting"



event "remnant: research update bjd1"



event "remnant: penguin"
	shipyard "Remnant Puffin"
		"Penguin"



event "remnant: lab availability"
	outfitter "Remnant"
		add "Research Laboratory"
	outfitter "Remnant Core"
		add "Research Laboratory"



event "korath hunting"
	government "Korath"
		"attitude toward"
			"Indigenous Lifeform" -.01
			"Ember Waste" -.01



event "remnant: postverta reveal"
	unvisit Caeculus
	unvisit Diespiter
	unvisit Egeria
	unvisit Levana
	unvisit Prosa
	unvisit Statina
	link Postverta Diespiter
	link Postverta Prosa
	link Postverta Statina
	system Postverta
		remove hidden
	system Egeria
		add object "Wormhole Barren Alpha"
			sprite planet/wormhole-red
			distance 2313
			period 389
	system Levana
		add object "Wormhole Barren Alpha"
			sprite planet/wormhole-red
			distance 2313
			period 389
	system Caeculus
		add object "Wormhole Barren Beta"
			sprite planet/wormhole-red
			distance 2400
			period 391
	system Prosa
		add object "Wormhole Barren Beta"
			sprite planet/wormhole-red
			distance 2313
			period 389



event "remnant: nenia ember waste node"
	system "Nenia"
		add fleet "Ember Waste Node" 10000



event "remnant: pantica void sprites"
	system "Pantica"
		add fleet "Void Sprites" 4000
	planet "Esquiline"
		government "Remnant"
		add attributes remnant
		remove attributes uninhabited
		description `While Esquiline used to be simply another planet the Remnant harvested valuable resources from, the introduction of void sprites and the activation of their station has turned this world into a hidden research lab: The first human astrobiology station studying void sprites.`
		add spaceport `Although the facilities here are basic, the Remnant cafeteria boasts a food dispenser that is available at any time, along with a mesmerizing view of the clouds outside. Occasionally a void sprite will pass in front of the window, much to the delight of everyone.`



event "remnant: cognizance timer"
	system "Nenia"
		fleet "Ember Waste Node" 6000



event "remnant: cognizance 1 systems available"
	system Diespiter
		remove attributes "inaccessible"
	system Egeria
		remove attributes "inaccessible"
	system Postverta
		remove attributes "inaccessible"
	system Prosa
		remove attributes "inaccessible"
	system Statina
		remove attributes "inaccessible"
	system Vaticanus
		remove attributes "inaccessible"



event "remnant: cognizance merganser"
	shipyard "Remnant"
		"Merganser"



event "remnant: merganser fleet"
	fleet "Small Remnant"
		add variant 5
			"Merganser" 2
		add variant 3
			"Merganser" 4
		add variant 1
			"Starling"
			"Merganser" 2
	fleet "Large Remnant"
		add variant 5
			"Albatross"
			"Merganser" 4
		add variant 4
			"Ibis"
			"Petrel" 2
			"Tern" 4
			"Merganser" 8
	fleet "Remnant Transport"
		add variant 3
			"Gull"
			"Merganser" 2
		add variant 1
			"Pelican"
			"Merganser" 4
	fleet "Remnant Home Guard"
		add variant 5
			"Merganser"
		add variant 3
			"Merganser"
			"Petrel" 2
			"Tern" 4



event "remnant: ssil vida inhabited"
	planet "Ssil Vida"
		attributes emitter sheragi remnant
		landscape land/station0
		description `The silence of this station rings in your ears, and as you explore you are increasingly surprised that it even has an atmosphere. It is obviously ancient, and patches of ambiguous green and purple material resembling fungus grow through the walls. Whoever built this station designed it for beings much larger than you - either that, or they liked spacious environments. Even the shortest doorway you pass through is easily double your height. They are always wider than they are tall.`
		description `	Exploring beyond the docks reveals that most of this facility is infrastructure for some type of massive emitter. It is not clear exactly what it's supposed to be emitting, but it might have something to do with how this system appeared in the first place.`
		spaceport `The Remnant have set up a fully self-contained base of operations in this part of the station. Independent life support, its own power system, and controls tapping into the rest of station occupy much of the space, while a research laboratory and additional equipment fill up the rest. A rudimentary cafeteria, communication links, basic repair equipment, and sleeping quarters round out the amenities of this research camp.`
		bribe 0
		government Remnant



event "remnant: cognizance peregrine"
	outfitter "Remnant"
		"Bellows-Class Afterburner"
	fleet "Small Remnant"
		add variant 1
			"Peregrine"
	fleet "Large Remnant"
		add variant 5
			"Peregrine"
			"Merganser" 3



event "remnant: remove hidden"
	system Diespiter
		remove hidden
	system Egeria
		remove hidden
	system Postverta
		remove hidden
	system Prosa
		remove hidden
	system Statina
		remove hidden
	system Vaticanus
		remove hidden



event "remnant: ssil vida area unvisted"
	unvisit "Diespiter"
	unvisit "Egeria"
	unvisit "Prosa"
	unvisit "Statina"
	unvisit "Vaticanus"



event "remnant: ssil vida activation"
	set "remnant: ssil vida active"
	planet Fertriery
		attributes "requires: gaslining" uninhabited
		landscape land/nasa8
		description `You are not quite sure what Fetriery is. It lacks cohesive edges, and yet it has sufficient atmospheric pressure to threaten the hull integrity of ships not designed for high pressure environments. Despite such density, which would indicate a strong gravitational presence, your sensors are unable to find any kind of core.`
		spaceport `Delving further into the clouds, it becomes obvious that the entire planet appears to be a mix of gases, aerosols, and suspended particles. Despite this, or perhaps because of it, void sprites appear to thrive in its depths, where they can be seen dancing among energy currents reminiscent of the ion storms.`
		government "Ember Waste"
		bribe 0
		security 0
	system Caeculus
		remove fleet Embershades 12000
		object
			sprite star/wr
			period 10
		object
			sprite planet/dust6-b
			distance 127.09
			period 8.10479
		object
			sprite planet/desert9
			distance 341.05
			period 35.6288
		object
			sprite planet/gas5-b
			distance 993.81
			period 177.227
			object
				sprite planet/rock14-b
				distance 258
				period 13.7809
			object
				sprite planet/dust0-b
				distance 350
				period 21.7746
		object
			sprite planet/rock3
			distance 1683.81
			period 390.854
		object
			sprite planet/jupiter-b
			distance 2187.82
			period 578.885
			object
				sprite planet/rhea-b
				distance 273
				period 14.1744
			object
				sprite planet/ice0-b
				distance 380
				period 23.2775
	system Egeria
		remove attributes "inaccessible"
		"jump range" 50
		add minables "plant" 80 5
		add minables "plant2" 80 5
		add minables "plant cluster" 80 5
		add minables "large plant" 40 3
		add minables "large plant2" 40 3
		add minables "large plant cluster" 40 3
		add minables "space flora" 80 5
		add minables "large space flora" 40 3
		add minables "live crystal" 60 3
		add fleet "Void Sprites (Ember Waste)" 400
		add fleet "Subsidurial (Ember Waste)" 2000
		remove hazard "Ember Waste Base Heat" 100
		add hazard "Ember Waste Base Heat" 50
		add hazard "Ember Waste Base Storm" 15000
		object
			sprite star/k5-old
			distance 40
			period 19
			offset 180
		object
			sprite star/g0
			distance 74
			period 19
		object
			sprite planet/ice4
			distance 248
			period 61
		object
			sprite planet/gas9
			distance 1326
			period 2174
			object
				sprite planet/rhea
				distance 270
				period 16
	system Diespiter
		remove attributes "inaccessible"
		"jump range" 50
		remove asteroids
		add minables "plant" 80 5
		add minables "plant2" 80 5
		add minables "plant cluster" 80 5
		add minables "large plant" 40 3
		add minables "large plant2" 40 3
		add minables "large plant cluster" 40 3
		add minables "space flora" 80 5
		add minables "large space flora" 40 3
		add minables "live crystal" 60 3
		add fleet "Void Sprites (Ember Waste)" 400
		add fleet "Subsidurial (Ember Waste)" 2000
		remove "Ember Waste Base Heat" 100
		add hazard "Ember Waste Base Heat" 50
		add hazard "Ember Waste Base Storm" 15000
	system Levana
		object
			sprite star/a-giant
			distance 5.42796
			period 7.17345
			offset 180
		object
			sprite star/k5
			distance 153.26
			period 7.17345
		object
			sprite planet/dust1-b
			distance 215.093
			period 13.8295
		object
			sprite planet/venus
			distance 438.933
			period 40.3148
		object
			sprite planet/desert1
			distance 665.023
			period 75.1835
		object
			sprite planet/cloud1
			distance 922.583
			period 122.850
		object
			sprite planet/neptune-b
			distance 3359.19
			period 853.531
			object
				sprite planet/rock17-b
				distance 213
				period 15.4882
			object
				sprite planet/dust0-b
				distance 310
				period 27.1941
			object
				sprite planet/luna
				distance 391
				period 38.521
	system Postverta
		remove attributes "inaccessible"
		"jump range" 50
		remove asteroids
		minables "plant" 80 5
		minables "plant2" 80 5
		minables "plant cluster" 80 5
		minables "large plant" 40 3
		minables "large plant2" 40 3
		minables "large plant cluster" 40 3
		minables "space flora" 80 5
		minables "large space flora" 40 3
		minables "live crystal" 60 3
		add fleet "Void Sprites (Ember Waste)" 400
		add fleet "Subsidurial (Ember Waste)" 2000
		remove hazard "Ember Waste Base Heat" 100
		add hazard "Ember Waste Base Heat" 50
		add hazard "Ember Waste Base Storm" 15000
		object
			sprite star/m8
			period 19
		object
			sprite planet/desert7
			distance 439
			period 143
		object Fertriery
			sprite planet/nebula1
			distance 814
			period 362
			object
				sprite planet/dust4
				distance 202
				period 21
		object
			sprite planet/rock10
			distance 1208
			period 654
		object "Ssil Vida"
			sprite planet/sheragi_postverta
				scale 0.5
			distance 1408
			period 554
	system Prosa
		remove attributes "inaccessible"
		"jump range" 50
		remove asteroids
		add minables "plant" 80 5
		add minables "plant2" 80 5
		add minables "plant cluster" 80 5
		add minables "large plant" 40 3
		add minables "large plant2" 40 3
		add minables "large plant cluster" 40 3
		add minables "space flora" 80 5
		add minables "large space flora" 40 3
		add minables "live crystal" 60 3
		add fleet "Void Sprites (Ember Waste)" 400
		add fleet "Subsidurial (Ember Waste)" 2000
		remove hazard "Ember Waste Base Heat" 100
		add hazard "Ember Waste Base Heat" 50
		add hazard "Ember Waste Base Storm" 15000
		object
			sprite star/o-giant
			period 10
			offset 180
		object
			sprite planet/cloud1
			distance 443.879
			period 25.0498
		object
			sprite planet/desert9
			distance 881.879
			period 70.1489
		object
			sprite planet/rock6
			distance 1073.88
			period 94.2629
		object
			sprite planet/gas17
			distance 1443.88
			period 146.961
			object
				sprite planet/callisto
				distance 227
				period 14
			object
				sprite planet/dust5
				distance 351
				period 28
	system Statina
		attributes "inaccessible"
		arrival 500
		belt 2000
		habitable 135
		haze _menu/haze-red
		"jump range" 50
		remove asteroids
		add minables "plant" 80 5
		add minables "plant2" 80 5
		add minables "plant cluster" 80 5
		add minables "large plant" 40 3
		add minables "large plant2" 40 3
		add minables "large plant cluster" 40 3
		add minables "space flora" 80 5
		add minables "large space flora" 40 3
		add minables "live crystal" 60 3
		add fleet "Void Sprites (Ember Waste)" 400
		add fleet "Subsidurial (Ember Waste)" 2000
		remove hazard "Ember Waste Base Heat" 100
		add hazard "Ember Waste Base Heat" 50
		add hazard "Ember Waste Base Storm" 15000
	system Vaticanus
		remove attributes "inaccessible"
		"jump range" 50
		remove asteroids
		add minables "plant" 80 5
		add minables "plant2" 80 5
		add minables "plant cluster" 80 5
		add minables "large plant" 40 3
		add minables "large plant2" 40 3
		add minables "large plant cluster" 40 3
		add minables "space flora" 80 5
		add minables "large space flora" 40 3
		add minables "live crystal" 60 3
		add fleet "Void Sprites (Ember Waste)" 400
		add fleet "Subsidurial (Ember Waste)" 2000
		remove hazard "Ember Waste Base Heat" 100
		add hazard "Ember Waste Base Heat" 50
		add hazard "Ember Waste Base Storm" 15000



event "remnant: ssil vida deactivation"
	clear "remnant: ssil vida active"
	planet Fertriery
		attributes "requires: gaslining" uninhabited
		landscape land/nasa8
		description `Fertriery is a fairly typical world with a particularly dense atmosphere that includes significant levels of chlorine and fluorine. The only unusual factor is the above-average temperatures, likely due to the decreased energy loss into the surrounding space.`
		remove spaceport
		government Uninhabited
		bribe 0
		security 0
	system Egeria
		asteroids "small rock" 1 8
		asteroids "medium rock" 20 5
		asteroids "large rock" 9 7
		asteroids "medium metal" 86 3
		asteroids "large metal" 5 4
		minables iron 20 4
		minables lead 28 5
		remove fleet
		add object "Wormhole Barren Alpha"
			sprite planet/wormhole-red
			distance 2313
			period 389
	system Diespiter
		asteroids "small rock" 65 3
		asteroids "medium rock" 14 1
		asteroids "large rock" 3 1
		asteroids "small metal" 74 2
		asteroids "medium metal" 26 4
		asteroids "large metal" 76 3
		minables iron 22 3
		minables silicon 46 3
		minables tungsten 17 3
		remove fleet
	system Levana
		add object "Wormhole Barren Alpha"
			sprite planet/wormhole-red
			distance 2313
			period 389
	system Caeculus
		add object "Wormhole Barren Beta"
			sprite planet/wormhole-red
			distance 2400
			period 391
	system Postverta
		asteroids "medium rock" 4 2
		asteroids "large rock" 4 3
		asteroids "medium metal" 52 1
		asteroids "large metal" 9 3
		remove fleet
		object
			sprite star/m8
			period 19
		object
			sprite planet/desert7
			distance 439
			period 143
		object Fertriery
			sprite planet/fog0
			distance 814
			period 362
			object
				sprite planet/dust4
				distance 202
				period 21
		object
			sprite planet/rock10
			distance 1208
			period 654
		object "Ssil Vida"
			sprite planet/sheragi_postverta
				scale 0.5
			distance 1408
			period 554
	system Prosa
		asteroids "medium metal" 11 2
		asteroids "large metal" 2 2
		asteroids "small rock" 4 1
		asteroids "medium rock" 16 1
		asteroids "large rock" 16 1
		minables copper 5 2
		remove fleet
		add object "Wormhole Barren Beta"
			sprite planet/wormhole-red
			distance 2313
			period 389
	system Statina
		asteroids "large rock" 1 4
		asteroids "small metal" 39 3
		asteroids "medium metal" 72 3
		asteroids "large metal" 3 5
		minables iron 5 6
		minables silicon 11 5
		minables titanium 10 4
		remove fleet
	system Vaticanus
		asteroids "small rock" 3 6
		asteroids "medium rock" 11 9
		asteroids "large rock" 5 8
		asteroids "small metal" 14 8
		asteroids "medium metal" 47 11
		asteroids "large metal" 11 7
		minables lead 16 13
		minables tungsten 10 13
		remove fleet



event "remnant: ssil vida outfitter"
	planet "Ssil Vida"
		add outfitter "Remnant Core"



event "remnant: cognizance salvage expansion"
	outfitter "Remnant Salvage"
		add "Systems Core (Medium)"
		add "Large Heat Shunt"
		add "Fuel Processor"
		add "Thermal Repeater Rifle"
		add "Grab-Strike Turret"
		add "Banisher Grav-Turret"
		add "Warder Anti-Missile"
	planet "Viminal"
		add shipyard "Remnant Salvage Ships"
	planet "Aventine"
		add shipyard "Remnant Salvage Ships"
	planet "Caelian"
		add shipyard "Remnant Salvage Ships"



event "remnant: cognizance calm"



event "remnant: teciimach deployment"
	outfitter "Remnant"
		remove "EMP Torpedo Bay"
		remove "EMP Torpedo"
		remove "EMP Torpedo Storage Bay"
		add "Teciimach Bay"
		add "Teciimach Pod"
		add "Teciimach Canister"
		add "Teciimach Canister Rack"
	fleet "Small Remnant"
		add variant 5
			"Merganser (II)" 2
		add variant 3
			"Merganser (II)" 4
		add variant 1
			"Starling"
			"Merganser (II)" 2
	fleet "Large Remnant"
		add variant 5
			"Albatross"
			"Merganser (II)" 4
		add variant 4
			"Ibis"
			"Petrel" 2
			"Tern" 4
			"Merganser (II)" 8
	fleet "Remnant Transport"
		add variant 3
			"Gull"
			"Merganser (II)" 2
		add variant 1
			"Pelican"
			"Merganser (II)" 4
		remove variant 4
			"Gull (Support)"
		add variant 4
			"Gull (Support II)"
	fleet "Remnant Home Guard"
		add variant 5
			"Merganser (II)"
		add variant 3
			"Merganser (II)"
			"Petrel" 2
			"Tern" 4
		add variant 3
			"Smew (Teciimach Ferry)"
	fleet "Small Remnant"
		remove variant 1
			"Peregrine"
		add variant 2
			"Peregrine (II)"
	fleet "Large Remnant"
		remove variant 4
			"Peregrine"
			"Merganser" 3
		add variant 5
			"Peregrine (II)"
			"Merganser (II)" 3



event "remnant: shattered light"
	shipyard "Remnant"
		add "Modified Dromedary"



event "remnant: shattered light research" 

event "remnant: tubfalet appearance"
	fleet "Korath Raid"
		add variant 1
			"Tubfalet"
			"'olofez" 3
	fleet "Korath Ember Waste Raid"
		add variant 3
			"Tubfalet"
			"'olofez" 3
	fleet "Korath Large Raid"
		add variant 3
			"Tubfalet" 2
			"'olofez"  6
			


