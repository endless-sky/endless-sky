add_library(EndlessSkyLib OBJECT)

# Set the appropriate compiler flags.
target_include_directories(EndlessSkyLib PUBLIC "${LIBMAD_INCLUDE_DIR}")
if(MSVC)
	target_compile_options(EndlessSkyLib PUBLIC "/W3" "/permissive-" "/sdl" "/GR-" "/analyze-"
		"-Wno-nonportable-include-path" "$<$<CONFIG:Release>:/Gy;/Oi>")
	target_compile_definitions(EndlessSkyLib PUBLIC "_UNICODE" "UNICODE")
else()
	target_compile_options(EndlessSkyLib PUBLIC
		"-Wall" "-pedantic-errors" "-Wold-style-cast" "-fno-rtti")
endif()

# Every source file (and header file) should be listed here, except main.cpp.
# If you add a new file, add it to this list.
target_sources(EndlessSkyLib PRIVATE
	Angle.cpp
	Angle.h
	Bitset.cpp
	Bitset.h
	Dictionary.cpp
	Dictionary.h
	ExclusiveItem.h
	Logger.cpp
	Logger.h
	Point.cpp
	Point.h
	Random.cpp
	Random.h
	Set.h
	StringInterner.cpp
	StringInterner.h
	TaskQueue.cpp
	TaskQueue.h
	WeightedList.h
	opengl.cpp
	opengl.h
	pi.h
	shift.h
	audio/Audio.cpp
	audio/Audio.h
	audio/Music.cpp
	audio/Music.h
	audio/Sound.cpp
	audio/Sound.h
	body/Armament.cpp
	body/Armament.h
	body/AsteroidField.cpp
	body/AsteroidField.h
	body/Body.cpp
	body/Body.h
	body/CaptureOdds.cpp
	body/CaptureOdds.h
	body/CargoHold.cpp
	body/CargoHold.h
	body/Collision.cpp
	body/Collision.h
	body/CollisionSet.cpp
	body/CollisionSet.h
	body/CollisionType.h
	body/DamageDealt.h
	body/DamageProfile.cpp
	body/DamageProfile.h
	body/Effect.cpp
	body/Effect.h
	body/FighterHitHelper.h
	body/Flotsam.cpp
	body/Flotsam.h
	body/Minable.cpp
	body/Minable.h
	body/Projectile.cpp
	body/Projectile.h
	body/Ship.cpp
	body/Ship.h
	body/ShipAICache.cpp
	body/ShipAICache.h
	body/Visual.cpp
	body/Visual.h
	comparators/ByGivenOrder.h
	comparators/ByName.h
	comparators/BySeriesAndIndex.h
	data/CategoryList.cpp
	data/CategoryList.h
	data/CategoryTypes.h
	data/ConditionSet.cpp
	data/ConditionSet.h
	data/ConditionsStore.cpp
	data/ConditionsStore.h
	data/Conversation.cpp
	data/Conversation.h
	data/CoreStartData.cpp
	data/CoreStartData.h
	data/DataFile.cpp
	data/DataFile.h
	data/DataNode.cpp
	data/DataNode.h
	data/DataWriter.cpp
	data/DataWriter.h
	data/File.cpp
	data/File.h
	data/Files.cpp
	data/Files.h
	data/GameAction.cpp
	data/GameAction.h
	data/GameData.cpp
	data/GameData.h
	data/GameEvent.cpp
	data/GameEvent.h
	data/Gamerules.cpp
	data/Gamerules.h
	data/Government.cpp
	data/Government.h
	data/Hardpoint.cpp
	data/Hardpoint.h
	data/JumpTypes.h
	data/LocationFilter.cpp
	data/LocationFilter.h
	data/Mission.cpp
	data/Mission.h
	data/MissionAction.cpp
	data/MissionAction.h
	data/NPC.cpp
	data/NPC.h
	data/NPCAction.cpp
	data/NPCAction.h
	data/News.cpp
	data/News.h
	data/Paragraphs.cpp
	data/Paragraphs.h
	data/Person.cpp
	data/Person.h
	data/Personality.cpp
	data/Personality.h
	data/Phrase.cpp
	data/Phrase.h
	data/Plugins.cpp
	data/Plugins.h
	data/Port.cpp
	data/Port.h
	data/PrintData.cpp
	data/PrintData.h
	data/RandomEvent.h
	data/Sale.h
	data/SavedGame.cpp
	data/SavedGame.h
	data/StartConditions.cpp
	data/StartConditions.h
	data/SystemEntry.h
	data/TextReplacements.cpp
	data/TextReplacements.h
	data/UniverseObjects.cpp
	data/UniverseObjects.h
	engine/AI.cpp
	engine/AI.h
	engine/Command.cpp
	engine/Command.h
	engine/Date.cpp
	engine/Date.h
	engine/Depreciation.cpp
	engine/Depreciation.h
	engine/DistanceCalculationSettings.h
	engine/DistanceCalculationSettings.cpp
	engine/DistanceMap.cpp
	engine/DistanceMap.h
	engine/Distribution.cpp
	engine/Distribution.h
	engine/Engine.cpp
	engine/Engine.h
	engine/EsUuid.cpp
	engine/EsUuid.h
	engine/FireCommand.cpp
	engine/FireCommand.h
	engine/Fleet.cpp
	engine/Fleet.h
	engine/FleetCargo.cpp
	engine/FleetCargo.h
	engine/FormationPattern.cpp
	engine/FormationPattern.h
	engine/FormationPositioner.cpp
	engine/FormationPositioner.h
	engine/FrameTimer.cpp
	engine/FrameTimer.h
	engine/Mortgage.cpp
	engine/Mortgage.h
	engine/Outfit.cpp
	engine/Outfit.h
	engine/Politics.cpp
	engine/Politics.h
	engine/RaidFleet.cpp
	engine/RaidFleet.h
	engine/ShipEvent.cpp
	engine/ShipEvent.h
	engine/ShipJumpNavigation.cpp
	engine/ShipJumpNavigation.h
	engine/ShipManager.cpp
	engine/ShipManager.h
	engine/Variant.cpp
	engine/Variant.h
	engine/Weapon.cpp
	engine/Weapon.h
	image/ImageBuffer.cpp
	image/ImageBuffer.h
	image/ImageSet.cpp
	image/ImageSet.h
	image/RenderBuffer.cpp
	image/RenderBuffer.h
	image/Sprite.cpp
	image/Sprite.h
	image/SpriteSet.cpp
	image/SpriteSet.h
	player/Account.cpp
	player/Account.h
	player/Messages.cpp
	player/Messages.h
	player/PlayerInfo.cpp
	player/PlayerInfo.h
	player/Preferences.cpp
	player/Preferences.h
	shader/BatchDrawList.cpp
	shader/BatchDrawList.h
	shader/BatchShader.cpp
	shader/BatchShader.h
	shader/Color.cpp
	shader/Color.h
	shader/FillShader.cpp
	shader/FillShader.h
	shader/FogShader.cpp
	shader/FogShader.h
	shader/LineShader.cpp
	shader/LineShader.h
	shader/DrawList.cpp
	shader/DrawList.h
	shader/Mask.cpp
	shader/Mask.h
	shader/MaskManager.cpp
	shader/MaskManager.h
	shader/OutlineShader.cpp
	shader/OutlineShader.h
	shader/PointerShader.cpp
	shader/PointerShader.h
	shader/RingShader.cpp
	shader/RingShader.h
	shader/Shader.cpp
	shader/Shader.h
	shader/SpriteShader.cpp
	shader/SpriteShader.h
	shader/StarField.cpp
	shader/StarField.h
	system/Galaxy.cpp
	system/Galaxy.h
	system/Hazard.cpp
	system/Hazard.h
	system/Planet.cpp
	system/Planet.h
	system/StellarObject.cpp
	system/StellarObject.h
	system/System.cpp
	system/System.h
	system/Weather.cpp
	system/Weather.h
	system/Wormhole.cpp
	system/Wormhole.h
	system/WormholeStrategy.h
	test/Test.cpp
	test/Test.h
	test/TestContext.cpp
	test/TestContext.h
	test/TestData.cpp
	test/TestData.h
	text/DisplayText.cpp
	text/DisplayText.h
	text/Font.cpp
	text/Font.h
	text/FontSet.cpp
	text/FontSet.h
	text/Format.cpp
	text/Format.h
	text/Table.cpp
	text/Table.h
	text/Utf8.cpp
	text/Utf8.h
	text/WrappedText.cpp
	text/WrappedText.h
	text/alignment.hpp
	text/layout.hpp
	text/truncate.hpp
	ui/BankPanel.cpp
	ui/BankPanel.h
	ui/AlertLabel.cpp
	ui/AlertLabel.h
	ui/AmmoDisplay.cpp
	ui/AmmoDisplay.h
	ui/Animate.h
	ui/BoardingPanel.cpp
	ui/BoardingPanel.h
	ui/ClickZone.h
	ui/ConversationPanel.cpp
	ui/ConversationPanel.h
	ui/Dialog.cpp
	ui/Dialog.h
	ui/EscortDisplay.cpp
	ui/EscortDisplay.h
	ui/GameLoadingPanel.cpp
	ui/GameLoadingPanel.h
	ui/GameWindow.cpp
	ui/GameWindow.h
	ui/HailPanel.cpp
	ui/HailPanel.h
	ui/HiringPanel.cpp
	ui/HiringPanel.h
	ui/InfoPanelState.cpp
	ui/InfoPanelState.h
	ui/Information.cpp
	ui/Information.h
	ui/Interface.cpp
	ui/Interface.h
	ui/ItemInfoDisplay.cpp
	ui/ItemInfoDisplay.h
	ui/LoadPanel.cpp
	ui/LoadPanel.h
	ui/LogbookPanel.cpp
	ui/LogbookPanel.h
	ui/MainPanel.cpp
	ui/MainPanel.h
	ui/MapDetailPanel.cpp
	ui/MapDetailPanel.h
	ui/MapOutfitterPanel.cpp
	ui/MapOutfitterPanel.h
	ui/MapPanel.cpp
	ui/MapPanel.h
	ui/MapPlanetCard.cpp
	ui/MapPlanetCard.h
	ui/MapSalesPanel.cpp
	ui/MapSalesPanel.h
	ui/MapShipyardPanel.cpp
	ui/MapShipyardPanel.h
	ui/MenuAnimationPanel.cpp
	ui/MenuAnimationPanel.h
	ui/MenuPanel.cpp
	ui/MenuPanel.h
	ui/MessageLogPanel.cpp
	ui/MessageLogPanel.h
	ui/MissionPanel.cpp
	ui/MissionPanel.h
	ui/OutfitInfoDisplay.cpp
	ui/OutfitInfoDisplay.h
	ui/OutfitterPanel.cpp
	ui/OutfitterPanel.h
	ui/Panel.cpp
	ui/Panel.h
	ui/PlanetLabel.cpp
	ui/PlanetLabel.h
	ui/PlanetPanel.cpp
	ui/PlanetPanel.h
	ui/PlayerInfoPanel.cpp
	ui/PlayerInfoPanel.h
	ui/PreferencesPanel.cpp
	ui/PreferencesPanel.h
	ui/Radar.cpp
	ui/Radar.h
	ui/Rectangle.cpp
	ui/Rectangle.h
	ui/Screen.cpp
	ui/Screen.h
	ui/ScrollVar.h
	ui/ShipInfoDisplay.cpp
	ui/ShipInfoDisplay.h
	ui/ShipInfoPanel.cpp
	ui/ShipInfoPanel.h
	ui/ShipyardPanel.cpp
	ui/ShipyardPanel.h
	ui/ShopPanel.cpp
	ui/ShopPanel.h
	ui/SpaceportPanel.cpp
	ui/SpaceportPanel.h
	ui/StartConditionsPanel.cpp
	ui/StartConditionsPanel.h
	ui/TextArea.cpp
	ui/TextArea.h
	ui/Trade.cpp
	ui/Trade.h
	ui/TradingPanel.cpp
	ui/TradingPanel.h
	ui/UI.cpp
	ui/UI.h
)
